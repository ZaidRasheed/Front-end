import{r as n,j as a,F as w,e as p}from"./index-f845ce75.js";import{u,c as m,b as J,d as Q,A as X,C as Y}from"./Home-8cda78b0.js";import{D as I,K as $,M as y,P as S,N as x,O as g,L as Z}from"./Form-c035a2aa.js";const R=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=u(e,"card-body"),a(t,{ref:l,className:m(r,e),...s})));R.displayName="CardBody";const D=R,k=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=u(e,"card-footer"),a(t,{ref:l,className:m(r,e),...s})));k.displayName="CardFooter";const _=k,L=n.createContext(null);L.displayName="CardHeaderContext";const P=L,E=n.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},l)=>{const o=u(r,"card-header"),c=n.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return a(P.Provider,{value:c,children:a(t,{ref:l,...s,className:m(e,o)})})});E.displayName="CardHeader";const ee=E,H=n.forwardRef(({bsPrefix:r,className:e,variant:t,as:s="img",...l},o)=>{const c=u(r,"card-img");return a(s,{ref:o,className:m(t?`${c}-${t}`:c,e),...l})});H.displayName="CardImg";const ae=H,T=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=u(e,"card-img-overlay"),a(t,{ref:l,className:m(r,e),...s})));T.displayName="CardImgOverlay";const se=T,F=n.forwardRef(({className:r,bsPrefix:e,as:t="a",...s},l)=>(e=u(e,"card-link"),a(t,{ref:l,className:m(r,e),...s})));F.displayName="CardLink";const re=F,te=I("h6"),j=n.forwardRef(({className:r,bsPrefix:e,as:t=te,...s},l)=>(e=u(e,"card-subtitle"),a(t,{ref:l,className:m(r,e),...s})));j.displayName="CardSubtitle";const le=j,O=n.forwardRef(({className:r,bsPrefix:e,as:t="p",...s},l)=>(e=u(e,"card-text"),a(t,{ref:l,className:m(r,e),...s})));O.displayName="CardText";const ne=O,de=I("h5"),q=n.forwardRef(({className:r,bsPrefix:e,as:t=de,...s},l)=>(e=u(e,"card-title"),a(t,{ref:l,className:m(r,e),...s})));q.displayName="CardTitle";const oe=q,M=n.forwardRef(({bsPrefix:r,className:e,bg:t,text:s,border:l,body:o=!1,children:c,as:f="div",...i},h)=>{const d=u(r,"card");return a(f,{ref:h,...i,className:m(e,d,t&&`bg-${t}`,s&&`text-${s}`,l&&`border-${l}`),children:o?a(D,{children:c}):c})});M.displayName="Card";const A=Object.assign(M,{Img:ae,Title:oe,Subtitle:le,Body:D,Link:re,Text:ne,Header:ee,Footer:_,ImgOverlay:se}),G=n.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},l)=>{const o=u(r,"row"),c=J(),f=Q(),i=`${o}-cols`,h=[];return c.forEach(d=>{const v=s[d];delete s[d];let N;v!=null&&typeof v=="object"?{cols:N}=v:N=v;const B=d!==f?`-${d}`:"";N!=null&&h.push(`${i}${B}-${N}`)}),a(t,{ref:l,...s,className:m(e,o,...h)})});G.displayName="Row";const ce=G,ie=()=>{const r=n.useRef(null),[e,t]=n.useState("choose"),[s,l]=n.useState("Choose"),[o,c]=n.useState(""),[f,i]=n.useState(""),[h,d]=n.useState(!1),{addBin:v,refreshData:N,data:B}=X(),U=()=>{l(!0)},V=()=>{l(!1)};function W(z){if(z.preventDefault(),i(""),c(""),d(!0),!r.current.value||r.current.value.length<2)return i("Please choose a valid id for the Ben."),d(!1);let b=!1;if(B.some(C=>{if(C.id===r.current.value)return b=!0,!0}),b)return i("Provided ID already exists, please choose a unique id for the Ben."),d(!1);if(!["full","half","empty"].includes(e))return d(!1),i("Please select a valid level.");if(s==="Choose")return d(!1),i("Please select whether the bin is enabled or disabled.");const K={id:r==null?void 0:r.current.value,level:e,enabled:s};d(!1),v(K).then(C=>C.json()).then(C=>{C.status==="success"?(r.current.value="",t("Choose"),l("Choose"),c(C.message),setTimeout(()=>N(),1500)):i(C.message)}).catch(()=>{i("Couldn't process request due to unresolved issue")}).finally(()=>{d(!1)})}return{idRef:r,level:e,setLevel:t,enabled:s,enable:U,disable:V,loading:h,ErrorAlert:a(w,{children:f&&a($,{variant:"danger",onClose:()=>i(""),dismissible:!0,children:f})}),SuccessAlert:a(w,{children:o&&a($,{variant:"success",onClose:()=>c(""),dismissible:!0,children:o})}),handleAddBen:W}},pe=()=>{const{idRef:r,level:e,setLevel:t,enabled:s,enable:l,disable:o,loading:c,ErrorAlert:f,SuccessAlert:i,handleAddBen:h}=ie();return a(Y,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"800px"},children:a(A,{className:"p-2",children:p(A.Body,{children:[a("h2",{className:"text-center mb-4",children:"Create a new Bin"}),i,f,p(y,{onSubmit:h,children:[p(ce,{children:[a(S,{lg:6,md:6,s:6,xs:12,children:p(y.Group,{className:"mb-3",children:[a(y.Label,{children:"Ben ID"}),a(y.Control,{type:"id",ref:r,autoComplete:"id",required:!0})]})}),a(S,{lg:6,md:6,s:6,xs:12,children:p(y.Group,{className:"mb-3",children:[a(y.Label,{children:"Level"}),p(x,{title:e.charAt(0).toUpperCase()+String(e).slice(1),variant:e==="full"?"danger":e==="half"?"warning":e==="empty"?"success":"secondary",className:"mb-3",children:[a(g.Item,{onClick:d=>t("full"),children:"Full"}),a(g.Item,{onClick:d=>t("half"),children:"Half"}),a(g.Item,{onClick:d=>t("empty"),children:"Empty"})]}),"                                    "]})})]}),a(y.Label,{className:"mt-2",children:"Enabled/Disabled"}),p(x,{title:s==="Choose"?"Choose":s?"Enabled":"Disabled",variant:s==="Choose"?"secondary":s?"success":"danger",className:"mb-3",children:[a(g.Item,{onClick:l,children:"Enabled"}),a(g.Item,{onClick:o,children:"Disabled"})]}),a("div",{className:"text-center",children:a(Z,{disabled:c,className:"w-50 mt-3 mb-3",type:"submit",children:"Create Ben"})})]})]})})})})};export{pe as default};
