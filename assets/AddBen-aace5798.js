import{r as n,j as a,F as b,e as C}from"./index-e42b3d84.js";import{u as m,c as u,b as K,d as U,A as J,C as Q}from"./Home-f17cea63.js";import{D as A,K as w,M as p,P as $,N as S,O as g,L as X}from"./Form-8aa24cf4.js";const R=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=m(e,"card-body"),a(t,{ref:l,className:u(r,e),...s})));R.displayName="CardBody";const I=R,D=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=m(e,"card-footer"),a(t,{ref:l,className:u(r,e),...s})));D.displayName="CardFooter";const Y=D,L=n.createContext(null);L.displayName="CardHeaderContext";const Z=L,k=n.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},l)=>{const o=m(r,"card-header"),c=n.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return a(Z.Provider,{value:c,children:a(t,{ref:l,...s,className:u(e,o)})})});k.displayName="CardHeader";const _=k,E=n.forwardRef(({bsPrefix:r,className:e,variant:t,as:s="img",...l},o)=>{const c=m(r,"card-img");return a(s,{ref:o,className:u(t?`${c}-${t}`:c,e),...l})});E.displayName="CardImg";const P=E,H=n.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},l)=>(e=m(e,"card-img-overlay"),a(t,{ref:l,className:u(r,e),...s})));H.displayName="CardImgOverlay";const ee=H,F=n.forwardRef(({className:r,bsPrefix:e,as:t="a",...s},l)=>(e=m(e,"card-link"),a(t,{ref:l,className:u(r,e),...s})));F.displayName="CardLink";const ae=F,se=A("h6"),T=n.forwardRef(({className:r,bsPrefix:e,as:t=se,...s},l)=>(e=m(e,"card-subtitle"),a(t,{ref:l,className:u(r,e),...s})));T.displayName="CardSubtitle";const re=T,j=n.forwardRef(({className:r,bsPrefix:e,as:t="p",...s},l)=>(e=m(e,"card-text"),a(t,{ref:l,className:u(r,e),...s})));j.displayName="CardText";const te=j,le=A("h5"),O=n.forwardRef(({className:r,bsPrefix:e,as:t=le,...s},l)=>(e=m(e,"card-title"),a(t,{ref:l,className:u(r,e),...s})));O.displayName="CardTitle";const ne=O,M=n.forwardRef(({bsPrefix:r,className:e,bg:t,text:s,border:l,body:o=!1,children:c,as:f="div",...i},h)=>{const d=m(r,"card");return a(f,{ref:h,...i,className:u(e,d,t&&`bg-${t}`,s&&`text-${s}`,l&&`border-${l}`),children:o?a(I,{children:c}):c})});M.displayName="Card";const x=Object.assign(M,{Img:P,Title:ne,Subtitle:re,Body:I,Link:ae,Text:te,Header:_,Footer:Y,ImgOverlay:ee}),q=n.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},l)=>{const o=m(r,"row"),c=K(),f=U(),i=`${o}-cols`,h=[];return c.forEach(d=>{const y=s[d];delete s[d];let N;y!=null&&typeof y=="object"?{cols:N}=y:N=y;const B=d!==f?`-${d}`:"";N!=null&&h.push(`${i}${B}-${N}`)}),a(t,{ref:l,...s,className:u(e,o,...h)})});q.displayName="Row";const de=q,oe=()=>{const r=n.useRef(null),[e,t]=n.useState("choose"),[s,l]=n.useState("Choose"),[o,c]=n.useState(""),[f,i]=n.useState(""),[h,d]=n.useState(!1),{addBin:y,refreshData:N}=J(),B=()=>{l(!0)},G=()=>{l(!1)};function V(W){if(W.preventDefault(),i(""),c(""),d(!0),!r.current.value||r.current.value.length<2)return i("Please choose a valid name for the Ben."),d(!1);if(!["full","half","empty"].includes(e))return d(!1),i("Please select a valid level.");if(s==="Choose")return d(!1),i("Please select whether the bin is enabled or disabled.");const z={id:r==null?void 0:r.current.value,level:e,enabled:s};d(!1),y(z).then(v=>v.json()).then(v=>{v.status==="success"?(r.current.value="",t("Choose"),l("Choose"),c(v.message),N()):i(v.message)}).catch(()=>{i("Couldn't process request due to unresolved issue")}).finally(()=>{d(!1)})}return{idRef:r,level:e,setLevel:t,enabled:s,enable:B,disable:G,loading:h,ErrorAlert:a(b,{children:f&&a(w,{variant:"danger",onClose:()=>i(""),dismissible:!0,children:f})}),SuccessAlert:a(b,{children:o&&a(w,{variant:"success",onClose:()=>c(""),dismissible:!0,children:o})}),handleAddBen:V}},he=()=>{const{idRef:r,level:e,setLevel:t,enabled:s,enable:l,disable:o,loading:c,ErrorAlert:f,SuccessAlert:i,handleAddBen:h}=oe();return a(Q,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"800px"},children:a(x,{className:"p-2",children:C(x.Body,{children:[a("h2",{className:"text-center mb-4",children:"Create a new Bin"}),i,f,C(p,{onSubmit:h,children:[C(de,{children:[a($,{lg:6,md:6,s:6,xs:12,children:C(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Ben ID"}),a(p.Control,{type:"id",ref:r,autoComplete:"id",required:!0})]})}),a($,{lg:6,md:6,s:6,xs:12,children:C(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Level"}),C(S,{title:e,variant:e==="full"?"success":e==="half"?"warning":e==="empty"?"danger":"secondary",className:"mb-3",children:[a(g.Item,{onClick:d=>t("full"),children:"Full"}),a(g.Item,{onClick:d=>t("half"),children:"Half"}),a(g.Item,{onClick:d=>t("empty"),children:"Empty"})]}),"                                    "]})})]}),a(p.Label,{className:"mt-2",children:"Enabled/Disabled"}),C(S,{title:s==="Choose"?"Choose":s?"Enabled":"Disabled",variant:s==="Choose"?"secondary":s?"success":"danger",className:"mb-3",children:[a(g.Item,{onClick:l,children:"Enabled"}),a(g.Item,{onClick:o,children:"Disabled"})]}),a("div",{className:"text-center",children:a(X,{disabled:c,className:"w-50 mt-3 mb-3",type:"submit",children:"Create Ben"})})]})]})})})})};export{he as default};
